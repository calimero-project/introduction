// this gradle buildscript only builds the examples for calimero version >= 2.5
plugins {
	id "com.github.ben-manes.versions" version "0.38.0"
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'application'

repositories {
    mavenLocal()
    mavenCentral()
    maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
}

// specify an example you want to run
mainClassName = "DiscoverKnxServers"

// specify an example we want to run
run {
	ext.mainClass = System.properties.containsKey('mainClass') ? System.getProperty('mainClass') : "DiscoverKnxServers"
	mainClassName = ext.mainClass

	systemProperties System.getProperties()
}

version = '2.5-M1'

sourceCompatibility = 11
targetCompatibility = 11

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'
compileJava.options*.compilerArgs = [
	'-Xlint:all',
	'-Xlint:-options',
]

dependencies {
    implementation 'org.usb4java:usb4java-javax:1.3.0'
    implementation "com.github.calimero:calimero-core:${version}"
    implementation "com.github.calimero:calimero-device:${version}"
    runtimeOnly "com.github.calimero:calimero-rxtx:${version}"
	runtimeOnly 'org.slf4j:slf4j-simple:1.7.30'
}
